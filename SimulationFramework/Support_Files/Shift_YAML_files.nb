(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     16761,        344]
NotebookOptionsPosition[     15479,        314]
NotebookOutlinePosition[     15824,        329]
CellTagsIndexPosition[     15781,        326]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{
  "file", "=", 
   "\"\<C:\\\\Users\\\\jkj62\\\\Documents\\\\GitHub\\\\OnlineModel\\\\\
MasterLattice\\\\YAML\\\\FEBE5.yaml\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.790063982840272*^9, 3.7900639846143436`*^9}},
 CellLabel->
  "In[1928]:=",ExpressionUUID->"e6984ea7-5dd4-457d-8dcc-75b977c1c36b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"splitdata", "=", 
   RowBox[{"Split", "[", 
    RowBox[{
     RowBox[{"ReadList", "[", 
      RowBox[{"file", ",", "Record"}], "]"}], ",", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"StringMatchQ", "[", 
        RowBox[{"#2", ",", "\"\<  CLA-FE*:*\>\""}], "]"}]}], "&"}]}], "]"}]}],
   ";"}]], "Input",
 CellChangeTimes->{{3.7856782861596327`*^9, 3.7856784018868403`*^9}, 
   3.7872944204586253`*^9, 3.787321305478655*^9, 3.7873791299536514`*^9, 
   3.787385921721221*^9, 3.789470268023857*^9, {3.7900639427036743`*^9, 
   3.7900639428702574`*^9}, {3.790063987705125*^9, 3.7900640146008816`*^9}},
 CellLabel->
  "In[1929]:=",ExpressionUUID->"1972315c-381f-4072-90e4-813b12535ebb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"startpos", "=", 
  RowBox[{"Quiet", "[", 
   RowBox[{
    RowBox[{"Position", "[", 
     RowBox[{"splitdata", ",", 
      RowBox[{"_", "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"StringMatchQ", "[", 
          RowBox[{"#", ",", "\"\<  CLA-FEH-FOCUS-01:*\>\""}], "]"}], "&"}], 
        ")"}]}]}], "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "1"}], "]"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.7856784041194205`*^9, 3.785678471894628*^9}, {
   3.7872944304894485`*^9, 3.7872944306021786`*^9}, {3.7872951388912497`*^9, 
   3.787295139056816*^9}, 3.787295314026626*^9, {3.7872954151691933`*^9, 
   3.7872954171373806`*^9}, 3.7872954819697433`*^9, 3.7872956899180584`*^9, 
   3.787295998360031*^9, 3.787321325462183*^9, {3.787321428824705*^9, 
   3.7873214387532187`*^9}, 3.7873790870056086`*^9, 3.787379195304949*^9, 
   3.7873793845310707`*^9, 3.7873796066758633`*^9, 3.787379909907688*^9, {
   3.7873799652970915`*^9, 3.7873799970065856`*^9}, 3.7873800434403343`*^9, 
   3.787383062610999*^9, {3.7873831008964157`*^9, 3.7873831526257486`*^9}, {
   3.787383300588676*^9, 3.787383320283146*^9}, {3.7873859304018908`*^9, 
   3.787385961202276*^9}, 3.7894703637003827`*^9, 3.789470434957244*^9, 
   3.7894707377578497`*^9, {3.7894708614667044`*^9, 3.789470873528783*^9}, 
   3.789472453807864*^9, 3.7900640098236227`*^9, 3.790064087092124*^9, {
   3.7900641693526945`*^9, 3.7900642027626743`*^9}, 3.7900642990262976`*^9},
 CellLabel->
  "In[1930]:=",ExpressionUUID->"678df515-17da-4807-8e4d-bf2afd1db605"],

Cell[BoxData["18"], "Output",
 CellChangeTimes->{{3.785678456856022*^9, 3.785678472270624*^9}, 
   3.785680200971301*^9, 3.787294431804963*^9, {3.7872945814602613`*^9, 
   3.7872946032925725`*^9}, 3.78729514255544*^9, {3.7872951904991975`*^9, 
   3.787295197823321*^9}, 3.7872953162476892`*^9, 3.787295354816265*^9, 
   3.7872954181253023`*^9, 3.787295448716545*^9, 3.7872954871608086`*^9, 
   3.7872956984253516`*^9, 3.787295999960816*^9, 3.787296038625983*^9, 
   3.787321329278052*^9, 3.7873213725706577`*^9, {3.7873214293342905`*^9, 
   3.7873214410261335`*^9}, 3.7873790906289454`*^9, 3.7873791352116485`*^9, {
   3.7873791920326824`*^9, 3.7873791963242283`*^9}, {3.787379374569609*^9, 
   3.7873793870433226`*^9}, {3.787379666930652*^9, 3.7873796793953977`*^9}, {
   3.787379912153693*^9, 3.787379998461649*^9}, 3.7873800469439816`*^9, 
   3.7873830650161953`*^9, {3.787383097555733*^9, 3.787383109659707*^9}, {
   3.78738314678928*^9, 3.787383153443283*^9}, {3.7873833111250296`*^9, 
   3.7873833211149244`*^9}, {3.7873859335263214`*^9, 3.78738596671542*^9}, 
   3.789470270995338*^9, 3.78947036509353*^9, 3.7894704357213335`*^9, {
   3.789470474086464*^9, 3.7894705024325123`*^9}, 3.789470706185547*^9, 
   3.789470743576869*^9, {3.789470870740935*^9, 3.7894708744905467`*^9}, {
   3.789472457228943*^9, 3.7894724846728873`*^9}, {3.790063998144246*^9, 
   3.7900640181024847`*^9}, 3.790064097152221*^9, {3.790064170509635*^9, 
   3.7900642045379615`*^9}, {3.790064313913658*^9, 3.7900643402927527`*^9}},
 CellLabel->
  "Out[1930]=",ExpressionUUID->"0cba271b-ad39-4891-b60f-8bbe1437476f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"endpos", "=", 
  RowBox[{
   RowBox[{"Quiet", "[", 
    RowBox[{
     RowBox[{"Position", "[", 
      RowBox[{"splitdata", ",", 
       RowBox[{"_", "?", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"#", ",", "\"\<  CLA-FEH-WALL-02-START:*\>\""}], "]"}], 
          "&"}], ")"}]}]}], "]"}], "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "1"}], "]"}], "]"}], "]"}], "-", "1"}]}]], "Input",
 CellChangeTimes->{{3.7856784041194205`*^9, 3.7856784978381634`*^9}, {
   3.7873791061641045`*^9, 3.7873791121341763`*^9}, 3.7900640073631954`*^9},
 CellLabel->
  "In[1931]:=",ExpressionUUID->"106da3c7-7d00-404f-b916-4f227740a6d0"],

Cell[BoxData["40"], "Output",
 CellChangeTimes->{
  3.7856784988265224`*^9, 3.785680201052085*^9, 3.787294460802358*^9, {
   3.787294581571963*^9, 3.787294603439381*^9}, 3.7872951428412056`*^9, {
   3.7872951906463785`*^9, 3.7872951980757494`*^9}, 3.7872953176569843`*^9, 
   3.787295355074601*^9, {3.7872954206693954`*^9, 3.787295448853181*^9}, 
   3.7872954873208637`*^9, 3.787295698578974*^9, 3.7872960014119463`*^9, 
   3.787296038766607*^9, 3.787321329944315*^9, 3.787321372903858*^9, {
   3.7873214329546795`*^9, 3.7873214410660033`*^9}, {3.787379091363986*^9, 
   3.7873791352515125`*^9}, 3.7873791987068977`*^9, {3.7873793750453415`*^9, 
   3.7873793870812435`*^9}, 3.7873796806470566`*^9, 3.787379941569416*^9, {
   3.7873799717229137`*^9, 3.7873799985015726`*^9}, 3.787380046983876*^9, 
   3.7873830666383815`*^9, {3.7873830975936327`*^9, 3.787383109704588*^9}, {
   3.7873831468261824`*^9, 3.7873831534861383`*^9}, {3.787383311159937*^9, 
   3.787383321154817*^9}, {3.7873859354607935`*^9, 3.7873859667573085`*^9}, 
   3.7894703799873857`*^9, 3.789470437084873*^9, {3.7894704741173506`*^9, 
   3.789470502460438*^9}, 3.789470706215499*^9, 3.7894707436137705`*^9, {
   3.7894708707904835`*^9, 3.789470874535453*^9}, {3.7894724580347614`*^9, 
   3.7894724847198305`*^9}, {3.790063998196107*^9, 3.790064018159393*^9}, 
   3.79006409720907*^9, {3.790064170570498*^9, 3.7900642046067886`*^9}, {
   3.7900643139814773`*^9, 3.7900643403526297`*^9}},
 CellLabel->
  "Out[1931]=",ExpressionUUID->"024e5990-b078-4009-9a87-6b4659f45dc8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$globaloffset", "=", 
  RowBox[{"+", "0.1"}]}]], "Input",
 CellChangeTimes->{{3.7856788531434126`*^9, 3.7856788639337564`*^9}, {
   3.787294488146653*^9, 3.7872944900734715`*^9}, {3.787294579777598*^9, 
   3.7872946004163475`*^9}, {3.787295129274148*^9, 3.7872951321532946`*^9}, {
   3.7872951883456793`*^9, 3.787295196733218*^9}, {3.787295325885991*^9, 
   3.787295348793029*^9}, {3.7872956862199416`*^9, 3.7872956863536196`*^9}, 
   3.787296003963129*^9, {3.7873213795497026`*^9, 3.787321381208256*^9}, {
   3.787379115759564*^9, 3.7873791213067985`*^9}, {3.7873793786248217`*^9, 
   3.7873793790436687`*^9}, {3.787379660571598*^9, 3.7873796634858665`*^9}, {
   3.787379976735507*^9, 3.7873799789257164`*^9}, {3.787383082976122*^9, 
   3.787383094760255*^9}, {3.787383132896302*^9, 3.787383139147019*^9}, {
   3.787383308922888*^9, 3.7873833089916973`*^9}, {3.7873859447860355`*^9, 
   3.78738596605518*^9}, {3.7894704437902265`*^9, 3.789470444261983*^9}, 
   3.789470500608408*^9, 3.789470704895976*^9, {3.7894708661374435`*^9, 
   3.7894708677907276`*^9}, {3.789472462631562*^9, 3.789472469532126*^9}, {
   3.7900640913537364`*^9, 3.7900640932865477`*^9}, {3.7900641804087715`*^9, 
   3.790064199350817*^9}, {3.790064308123002*^9, 3.7900643394887333`*^9}},
 CellLabel->
  "In[1932]:=",ExpressionUUID->"fd11afcb-d7e9-47de-b693-a4eb52676d13"],

Cell[BoxData["0.1`"], "Output",
 CellChangeTimes->{{3.785678854340214*^9, 3.7856788645303636`*^9}, 
   3.7856802011328697`*^9, 3.7872944907207427`*^9, {3.7872945817006197`*^9, 
   3.7872946035620832`*^9}, 3.7872951430117197`*^9, {3.787295190787035*^9, 
   3.7872951982194157`*^9}, {3.7872953282087555`*^9, 3.787295355229162*^9}, {
   3.787295421836564*^9, 3.7872954489878616`*^9}, 3.7872954874814253`*^9, 
   3.7872956987495193`*^9, {3.7872960194047766`*^9, 3.7872960388906355`*^9}, 
   3.7873213845673075`*^9, {3.7873214329925923`*^9, 3.787321441102968*^9}, {
   3.7873791253090467`*^9, 3.78737913528642*^9}, 3.787379203273681*^9, {
   3.7873793796630487`*^9, 3.7873793871201468`*^9}, 3.787379682983914*^9, 
   3.787379941606318*^9, {3.7873799844090495`*^9, 3.7873799985404673`*^9}, 
   3.787380047021804*^9, {3.7873830868241467`*^9, 3.787383109744482*^9}, {
   3.787383146866584*^9, 3.787383153527029*^9}, {3.7873833112008266`*^9, 
   3.7873833211937137`*^9}, {3.787385949530938*^9, 3.7873859668061485`*^9}, {
   3.789470444694871*^9, 3.789470502495417*^9}, 3.7894707062494087`*^9, 
   3.78947074364968*^9, {3.7894708708423448`*^9, 3.7894708745748663`*^9}, {
   3.7894724716208897`*^9, 3.7894724847667155`*^9}, {3.790063998251958*^9, 
   3.7900640182172456`*^9}, 3.790064097266952*^9, {3.7900641706303425`*^9, 
   3.790064204672577*^9}, {3.790064314057316*^9, 3.790064340418456*^9}},
 CellLabel->
  "Out[1932]=",ExpressionUUID->"f11890a4-2f7a-41c9-bfeb-bcbad8d7ded8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{"file", ",", 
   RowBox[{"StringRiffle", "[", 
    RowBox[{
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Block", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"pos", "=", "#"}], ",", "elementdata"}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"elementdata", "=", 
            RowBox[{"splitdata", "[", 
             RowBox[{"[", "pos", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"Block", "[", 
              RowBox[{
               RowBox[{"{", "splitstring", "}"}], ",", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"splitstring", "=", 
                 RowBox[{"StringSplit", "[", 
                  RowBox[{"#", ",", "\"\<:\>\""}], "]"}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"pos", ">=", "startpos"}], "&&", 
                   RowBox[{"pos", "\[LessEqual]", "endpos"}], "&&", 
                   RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringSplit", "[", 
                    RowBox[{"#", ",", "\"\<:\>\""}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    "\"\<*position*\>\""}], "]"}]}], ",", 
                  "\[IndentingNewLine]", 
                  RowBox[{"StringJoin", "[", 
                   RowBox[{
                    RowBox[{"splitstring", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<: \>\"", ",", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"ToExpression", "[", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"splitstring", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"\"\<[\>\"", "\[Rule]", "\"\<{\>\""}], ",", 
                    RowBox[{"\"\<]\>\"", "\[Rule]", "\"\<}\>\""}]}], "}"}]}], 
                    "]"}], "]"}], "+", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "0", ",", "$globaloffset"}], "}"}]}], 
                    "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"\"\<{\>\"", "\[Rule]", "\"\<[\>\""}], ",", 
                    RowBox[{"\"\<}\>\"", "\[Rule]", "\"\<]\>\""}]}], "}"}]}], 
                    "]"}]}], "]"}], "\[IndentingNewLine]", ",", 
                  "\[IndentingNewLine]", "#"}], "]"}]}]}], 
              "\[IndentingNewLine]", "]"}], "&"}], "/@", "elementdata"}]}]}], 
         "\[IndentingNewLine]", "]"}], "&"}], "/@", 
       RowBox[{"Range", "[", 
        RowBox[{"Length", "[", "splitdata", "]"}], "]"}]}], "]"}], ",", 
     "\"\<\\n\>\""}], "]"}], ",", "\"\<Text\>\""}], "]"}]], "Input",
 CellChangeTimes->{{3.7856785187272263`*^9, 3.785678846752158*^9}, {
   3.7856788870798616`*^9, 3.7856790985399904`*^9}, {3.7856791373518066`*^9, 
   3.785679213998604*^9}, {3.7856801990035534`*^9, 3.7856801993017607`*^9}, 
   3.7872944945445547`*^9, 3.7873213097200975`*^9, 3.787379132682369*^9, 
   3.7873859263714333`*^9, 3.789470458391307*^9, {3.7900639781446533`*^9, 
   3.790063990265308*^9}},
 CellLabel->
  "In[1933]:=",ExpressionUUID->"c7e565aa-601c-4bf5-af54-046ccad771b7"],

Cell[BoxData["\<\"C:\\\\Users\\\\jkj62\\\\Documents\\\\GitHub\\\\OnlineModel\\\
\\MasterLattice\\\\YAML\\\\FEBE5.yaml\"\>"], "Output",
 CellChangeTimes->{
  3.7856785666047087`*^9, 3.785678637163437*^9, 3.785678667757785*^9, {
   3.7856787092133923`*^9, 3.7856787939828286`*^9}, {3.785678826479045*^9, 
   3.7856789465877447`*^9}, {3.7856790761308537`*^9, 
   3.7856790995203714`*^9}, {3.7856791504266434`*^9, 
   3.7856791652709827`*^9}, {3.785679207653527*^9, 3.7856792146837435`*^9}, 
   3.7856802012256227`*^9, 3.787294504593937*^9, {3.7872945818352947`*^9, 
   3.787294603688715*^9}, 3.7872951431772776`*^9, {3.787295190932708*^9, 
   3.787295198373384*^9}, 3.7872953553802085`*^9, {3.787295426547555*^9, 
   3.7872954491314783`*^9}, 3.7872954876330786`*^9, 3.787295698915103*^9, {
   3.7872960227049923`*^9, 3.7872960390315824`*^9}, 3.787321393788678*^9, {
   3.787321433033472*^9, 3.7873214411388807`*^9}, 3.7873791353243465`*^9, 
   3.7873792058798466`*^9, {3.7873793813485518`*^9, 3.7873793871600103`*^9}, 
   3.78737969223525*^9, 3.787379941646182*^9, {3.7873799845057926`*^9, 
   3.7873799985803337`*^9}, 3.7873800470656567`*^9, {3.787383097672469*^9, 
   3.787383109787367*^9}, {3.787383146906477*^9, 3.787383153566923*^9}, {
   3.7873833112427187`*^9, 3.7873833212326083`*^9}, {3.787385949579294*^9, 
   3.787385966851076*^9}, {3.789470474191406*^9, 3.7894705025343122`*^9}, 
   3.789470706284648*^9, 3.789470743698549*^9, {3.789470870897523*^9, 
   3.7894708746227164`*^9}, {3.789472471670252*^9, 3.789472484815585*^9}, {
   3.790063998312808*^9, 3.7900640182820387`*^9}, 3.7900640973247595`*^9, {
   3.7900641707031183`*^9, 3.790064204750368*^9}, {3.7900643141300797`*^9, 
   3.7900643404952116`*^9}},
 CellLabel->
  "Out[1933]=",ExpressionUUID->"6462f628-74c9-45ce-b50a-f5ae46e309ae"]
}, Open  ]]
},
WindowSize->{668, 568},
WindowMargins->{{Automatic, -954}, {Automatic, 160}},
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 335, 8, 67, "Input",ExpressionUUID->"e6984ea7-5dd4-457d-8dcc-75b977c1c36b"],
Cell[896, 30, 722, 17, 28, "Input",ExpressionUUID->"1972315c-381f-4072-90e4-813b12535ebb"],
Cell[CellGroupData[{
Cell[1643, 51, 1561, 29, 67, "Input",ExpressionUUID->"678df515-17da-4807-8e4d-bf2afd1db605"],
Cell[3207, 82, 1595, 22, 32, "Output",ExpressionUUID->"0cba271b-ad39-4891-b60f-8bbe1437476f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4839, 109, 702, 18, 86, "Input",ExpressionUUID->"106da3c7-7d00-404f-b916-4f227740a6d0"],
Cell[5544, 129, 1537, 22, 32, "Output",ExpressionUUID->"024e5990-b078-4009-9a87-6b4659f45dc8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7118, 156, 1368, 20, 28, "Input",ExpressionUUID->"fd11afcb-d7e9-47de-b693-a4eb52676d13"],
Cell[8489, 178, 1469, 20, 32, "Output",ExpressionUUID->"f11890a4-2f7a-41c9-bfeb-bcbad8d7ded8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9995, 203, 3665, 80, 295, "Input",ExpressionUUID->"c7e565aa-601c-4bf5-af54-046ccad771b7"],
Cell[13663, 285, 1800, 26, 32, "Output",ExpressionUUID->"6462f628-74c9-45ce-b50a-f5ae46e309ae"]
}, Open  ]]
}
]
*)

